<div class="contenedor-principal">
  <!-- Encabezado -->
  <header class="encabezado">
    <h1>ğŸ§® Suma de Fracciones</h1>
    <p>Aprende jugando: escribe tus fracciones y observa cÃ³mo se suman visualmente</p>
  </header>

  <!-- SecciÃ³n de ingreso de fracciones -->
  <section class="tarjeta entrada">
    <h2>âœ¨ Ingresa tus fracciones</h2>
    <div class="entrada-fracciones">
      <!-- FracciÃ³n 1 -->
      <div class="fraccion">
        <label>FracciÃ³n 1</label>
        <input type="number" [(ngModel)]="f1.numerador" min="0" placeholder="Numerador" class="num color1" />
        <span class="linea"></span>
        <input type="number" [(ngModel)]="f1.denominador" min="1" placeholder="Denominador" class="den" />
      </div>

      <span class="operador">+</span>

      <!-- FracciÃ³n 2 -->
      <div class="fraccion">
        <label>FracciÃ³n 2</label>
        <input type="number" [(ngModel)]="f2.numerador" min="0" placeholder="Numerador" class="num color2" />
        <span class="linea"></span>
        <input type="number" [(ngModel)]="f2.denominador" min="1" placeholder="Denominador" class="den" />
      </div>

      <button class="boton boton-calcular" (click)="calcular()">
        â• Calcular Suma
      </button>
    </div>
  </section>

  <!-- Resultado visual -->
  <section *ngIf="resultado" class="tarjeta resultado">
    <h2>ğŸ¨ RepresentaciÃ³n Visual</h2>

    <!-- FracciÃ³n 1 -->
    <div class="fila">
      <h3>FracciÃ³n 1</h3>
      <div class="fraccion-visual">
        <span class="num color1">{{ f1.numerador }}</span> /
        <span>{{ f1.denominador }}</span>
      </div>
      <div class="cuadricula" [style.grid-template-columns]="'repeat(' + f1.denominador + ', 1fr)'">
        <div
          class="cuadro color1"
          *ngFor="let c of generarCuadros(f1.denominador); let i = index"
          [class.pintado]="i < f1.numerador"
        ></div>
      </div>
    </div>

    <!-- FracciÃ³n 2 -->
    <div class="fila">
      <h3>FracciÃ³n 2</h3>
      <div class="fraccion-visual">
        <span class="num color2">{{ f2.numerador }}</span> /
        <span>{{ f2.denominador }}</span>
      </div>
      <div class="cuadricula" [style.grid-template-columns]="'repeat(' + f2.denominador + ', 1fr)'">
        <div
          class="cuadro color2"
          *ngFor="let c of generarCuadros(f2.denominador); let i = index"
          [class.pintado]="i < f2.numerador"
        ></div>
      </div>
    </div>

    <!-- Resultado -->
    <div class="fila final">
      <h3>Resultado ğŸ¯</h3>
      <div class="fraccion-visual">
        <span class="num color3">{{ resultado.numerador }}</span> /
        <span>{{ resultado.denominador }}</span>
      </div>
      <div class="cuadricula" [style.grid-template-columns]="'repeat(' + resultado.denominador + ', 1fr)'">
        <div
          class="cuadro color3"
          *ngFor="let c of generarCuadros(resultado.denominador); let i = index"
          [class.pintado]="i < resultado.numerador"
        ></div>
      </div>
    </div>

    <div class="explicacion">
      <p><strong>ğŸ§© Paso 1:</strong> Encuentra el <em>MCM</em> de los denominadores.</p>
      <p><strong>âœï¸ Paso 2:</strong> Ajusta los numeradores segÃºn el nuevo denominador.</p>
      <p><strong>ğŸ¯ Paso 3:</strong> Suma los numeradores y conserva el denominador comÃºn.</p>
    </div>
  </section>

  <!-- Botones de navegaciÃ³n -->
  <div class="botones-navegacion">
    <button class="boton boton-volver">ğŸ”™ Regresar</button>
    <button class="boton boton-ejercicio">ğŸ Ir al Ejercicio</button>
  </div>
</div>
