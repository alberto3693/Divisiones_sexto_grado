<div class="contenedor-principal">
  <!-- Encabezado -->
  <header class="encabezado">
    <div class="titulo-animado">
      <span class="emoji-grande">ğŸ§®</span>
      <h1>Â¡Aprende a Sumar Fracciones!</h1>
      <p>Descubre cÃ³mo sumar fracciones de forma divertida y visual ğŸ¨</p>
    </div>
  </header>

  <!-- SecciÃ³n de ingreso de fracciones -->
  <section class="tarjeta entrada">
    <h2>âœ¨ Escribe tus Fracciones</h2>
    <div class="entrada-fracciones">
      <!-- FracciÃ³n 1 -->
      <div class="fraccion-input">
        <label class="etiqueta-fraccion color1-texto">
          <span class="icono">ğŸ•</span> FracciÃ³n 1
        </label>
        <div class="input-fraccion">
          <input 
            type="number" 
            [(ngModel)]="f1.numerador" 
            min="0" 
            max="20"
            placeholder="Numerador" 
            class="num-input color1-borde" 
          />
          <span class="linea-division"></span>
          <input 
            type="number" 
            [(ngModel)]="f1.denominador" 
            min="1" 
            max="20"
            placeholder="Denominador" 
            class="den-input" 
          />
        </div>
      </div>

      <span class="operador-grande">+</span>

      <!-- FracciÃ³n 2 -->
      <div class="fraccion-input">
        <label class="etiqueta-fraccion color2-texto">
          <span class="icono">ğŸ°</span> FracciÃ³n 2
        </label>
        <div class="input-fraccion">
          <input 
            type="number" 
            [(ngModel)]="f2.numerador" 
            min="0" 
            max="20"
            placeholder="Numerador" 
            class="num-input color2-borde" 
          />
          <span class="linea-division"></span>
          <input 
            type="number" 
            [(ngModel)]="f2.denominador" 
            min="1" 
            max="20"
            placeholder="Denominador" 
            class="den-input" 
          />
        </div>
      </div>

      <button class="boton-calcular" (click)="calcular()">
        <span class="boton-icono">â•</span>
        <span>Â¡Sumar!</span>
      </button>
    </div>
  </section>

  <!-- Resultado visual -->
  <section *ngIf="resultado" class="tarjeta resultado">
    <h2 class="titulo-resultado">ğŸ¨ Â¡Mira cÃ³mo se suman las Fracciones!</h2>

    <!-- FracciÃ³n 1 -->
    <div class="fila-visual">
      <div class="encabezado-fraccion">
        <span class="icono-fraccion">ğŸ•</span>
        <h3>FracciÃ³n 1</h3>
        <div class="fraccion-display color1-fondo">
          <span class="num-grande">{{ f1.numerador }}</span>
          <span class="linea-pequena"></span>
          <span class="den-grande">{{ f1.denominador }}</span>
        </div>
      </div>
      
      <div class="visualizacion">
        <div class="figuras-container">
          <div 
            class="figura color1-figura"
            *ngFor="let c of generarCuadros(f1.denominador); let i = index"
            [class.pintada]="i < f1.numerador"
          >
            <div class="figura-contenido">
              <span *ngIf="i < f1.numerador" class="emoji-figura">ğŸ•</span>
              <span *ngIf="i >= f1.numerador" class="emoji-vacio">â—‹</span>
            </div>
          </div>
        </div>
        <p class="explicacion-mini">
          <strong>{{ f1.numerador }}</strong> de <strong>{{ f1.denominador }}</strong> partes
        </p>
      </div>
    </div>

    <!-- FracciÃ³n 2 -->
    <div class="fila-visual">
      <div class="encabezado-fraccion">
        <span class="icono-fraccion">ğŸ°</span>
        <h3>FracciÃ³n 2</h3>
        <div class="fraccion-display color2-fondo">
          <span class="num-grande">{{ f2.numerador }}</span>
          <span class="linea-pequena"></span>
          <span class="den-grande">{{ f2.denominador }}</span>
        </div>
      </div>
      
      <div class="visualizacion">
        <div class="figuras-container">
          <div 
            class="figura color2-figura"
            *ngFor="let c of generarCuadros(f2.denominador); let i = index"
            [class.pintada]="i < f2.numerador"
          >
            <div class="figura-contenido">
              <span *ngIf="i < f2.numerador" class="emoji-figura">ğŸ°</span>
              <span *ngIf="i >= f2.numerador" class="emoji-vacio">â—‹</span>
            </div>
          </div>
        </div>
        <p class="explicacion-mini">
          <strong>{{ f2.numerador }}</strong> de <strong>{{ f2.denominador }}</strong> partes
        </p>
      </div>
    </div>

    <!-- Resultado -->
    <div class="fila-visual resultado-final">
      <div class="encabezado-fraccion">
        <span class="icono-fraccion">ğŸ¯</span>
        <h3>Resultado</h3>
        <div class="fraccion-display color3-fondo">
          <span class="num-grande">{{ resultado.numerador }}</span>
          <span class="linea-pequena"></span>
          <span class="den-grande">{{ resultado.denominador }}</span>
        </div>
      </div>
      
      <div class="visualizacion">
        <div class="figuras-container">
          <div 
            class="figura color3-figura"
            *ngFor="let c of generarCuadros(resultado.denominador); let i = index"
            [class.pintada]="i < resultado.numerador"
          >
            <div class="figura-contenido">
              <span *ngIf="i < resultado.numerador" class="emoji-figura">â­</span>
              <span *ngIf="i >= resultado.numerador" class="emoji-vacio">â—‹</span>
            </div>
          </div>
        </div>
        <p class="explicacion-mini resultado-texto">
          Â¡La suma es <strong>{{ resultado.numerador }}</strong> de <strong>{{ resultado.denominador }}</strong> partes!
        </p>
      </div>
    </div>

    <!-- ExplicaciÃ³n paso a paso -->
    <div class="pasos-explicacion">
      <h3 class="titulo-pasos">ğŸ“š Â¿CÃ³mo lo hicimos?</h3>
      <div class="paso">
        <span class="numero-paso">1</span>
        <div class="contenido-paso">
          <strong>Buscar el denominador comÃºn</strong>
          <p>El MCM de {{ f1.denominador }} y {{ f2.denominador }} es {{ resultado.denominador }}</p>
        </div>
      </div>
      <div class="paso">
        <span class="numero-paso">2</span>
        <div class="contenido-paso">
          <strong>Ajustar las fracciones</strong>
          <p>Convertimos ambas fracciones para que tengan el mismo denominador</p>
        </div>
      </div>
      <div class="paso">
        <span class="numero-paso">3</span>
        <div class="contenido-paso">
          <strong>Sumar los numeradores</strong>
          <p>Sumamos las partes y mantenemos el denominador comÃºn</p>
        </div>
      </div>
    </div>
  </section>

  <!-- NavegaciÃ³n -->
  <nav class="botones-navegacion">
    <button routerLink="/" class="boton-nav boton-regresar">
      <span class="icono-nav">ğŸ </span>
      Regresar al Inicio
    </button>
    <button routerLink="/ejercicio" class="boton-nav boton-continuar">
      Ver Ejercicio
      <span class="icono-nav">â¡ï¸</span>
    </button>
  </nav>
</div>